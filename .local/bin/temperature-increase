#!/bin/bash
# Increase color temperature (cooler) by 10%

# Query current temp from running gammastep
CURRENT=$(gammastep -p 2>/dev/null | grep -oP '(?<=Colour temperature: )[0-9]+' | head -1)
[ -z "$CURRENT" ] && CURRENT=6500

# Increase by 10% (divide by 0.9)
NEW_TEMP=$(echo "$CURRENT / 0.9" | bc | cut -d. -f1)

# Enforce maximum of 6500K
[ $NEW_TEMP -gt 6500 ] && NEW_TEMP=6500

# Apply new temperature
pkill gammastep 2>/dev/null
sleep 0.1
gammastep -P -O $NEW_TEMP &
